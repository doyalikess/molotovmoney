var startBtn=document.querySelectorAll(".coinflip__btn"),betInput=document.querySelector(".gamemode__input"),coin=document.getElementById("coin"),inputBtn=document.querySelectorAll(".gamemode__btn"),lastDropBox=document.querySelector(".coinflip__lastdropsbox"),totalProfit=document.querySelector("#total"),spinning=!1,bet="",betAmount=0,lastBetAmount=0,maxBetAmount=parseFloat(localStorage.getItem("Balance")).toFixed(2),totalAmount=0,flipCoin=function(){spinning=!0;var t=Math.random()<.5?"heads":"tails";coin.style.transition="transform 6s ease-in-out",setTimeout(function(){coin.classList.add("heads"==t?"flip-heads":"flip-tails")},100),setTimeout(function(){checkIfPlayerWon(t),createDrop(t)},6e3),setTimeout(function(){spinning=!1},6500),takeFromBalance()};function resetCoin(){if(!1===spinning&&0<betInput.value&&betInput.value<=parseFloat(localStorage.getItem("Balance"))){switch(bet="",betAmount=0,coin.style.transition="none",coin.classList.remove("flip-heads","flip-tails"),betAmount=betInput.value,this.id){case"ct":bet="ct";break;case"t":bet="t"}setTimeout(function(){flipCoin()},10)}}var takeFromBalance=function(){var t=parseFloat(localStorage.getItem("Balance"))-betAmount;localStorage.setItem("Balance",t.toFixed(2)+"$"),lastBetAmount=betAmount,maxBetAmount=parseFloat(localStorage.getItem("Balance")).toFixed(2),setBalance()},checkIfPlayerWon=function(t){var e;"heads"===t&&"ct"===bet?(e=2*betAmount+parseFloat(localStorage.getItem("Balance")),localStorage.setItem("Balance",e.toFixed(2)+"$"),e=parseInt(localStorage.getItem("coinflipWon"))+1,localStorage.setItem("coinflipWon",e)):"tails"===t&&"t"===bet&&(e=2*betAmount+parseFloat(localStorage.getItem("Balance")),localStorage.setItem("Balance",e.toFixed(2)+"$"),t=parseInt(localStorage.getItem("coinflipWon"))+1,localStorage.setItem("coinflipWon",t)),setBalance()},createDrop=function(t){var e=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),n=document.createElement("p"),l=document.createElement("p"),i=document.createElement("img"),c=document.createElement("img"),s=document.createElement("p");switch(e.classList.add("coinflip__item"),a.classList.add("coinflip__item-part"),o.classList.add("coinflip__item-part"),n.classList.add("coinflip__item-text"),l.classList.add("coinflip__item-text"),i.classList.add("coinflip__item-img"),c.classList.add("coinflip__item-img"),s.classList.add("coinflip__item-text"),bet){case"t":i.setAttribute("src","../dist/img/t-icon.jpg"),i.setAttribute("alt","t coin");break;case"ct":i.setAttribute("src","../dist/img/ct-icon.jpg"),i.setAttribute("alt","ct coin")}switch(t){case"tails":c.setAttribute("src","../dist/img/t-icon.jpg"),c.setAttribute("alt","t coin");break;case"heads":c.setAttribute("src","../dist/img/ct-icon.jpg"),c.setAttribute("alt","ct coin")}n.textContent="Bet:",l.textContent="Drop:","heads"===t&&"ct"===bet||"tails"===t&&"t"===bet?(s.style.color="rgb(113, 214, 77)",s.textContent="+"+parseFloat(betAmount).toFixed(2)+"$"):(s.style.color="rgb(235, 75, 75)",s.textContent="-"+parseFloat(betAmount).toFixed(2)+"$"),a.append(n,i),o.append(l,c),e.append(a,o,s),lastDropBox.append(e),countTotal()},countTotal=function(){var t=document.querySelectorAll(".coinflip__item");totalAmount=0,t.forEach(function(t){totalAmount=parseFloat(totalAmount)+parseFloat(t.children[2].textContent)}),totalAmount<0?(totalProfit.style.color="rgb(235, 75, 75)",totalProfit.textContent=parseFloat(totalAmount).toFixed(2)+"$"):(totalProfit.style.color="rgb(113, 214, 77)",totalProfit.textContent="+"+parseFloat(totalAmount).toFixed(2)+"$")};function useInputBtn(){switch(this.id){case"clear":betInput.value="0";break;case"last":betInput.value=lastBetAmount;break;case"+1":betInput.value=parseFloat(betInput.value)+1;break;case"+10":betInput.value=parseFloat(betInput.value)+10;break;case"+100":betInput.value=parseFloat(betInput.value)+100;break;case"+1000":betInput.value=parseFloat(betInput.value)+1e3;break;case"1/2":betInput.value=parseFloat(betInput.value)/2;break;case"x2":betInput.value=2*parseFloat(betInput.value);break;case"max":betInput.value=maxBetAmount}}var addEventListeners=function(){startBtn.forEach(function(t){t.addEventListener("click",resetCoin)}),inputBtn.forEach(function(t){t.addEventListener("click",useInputBtn)})};addEventListeners();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVzL2NvaW5mbGlwLmpzIl0sIm5hbWVzIjpbInN0YXJ0QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYmV0SW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiY29pbiIsImdldEVsZW1lbnRCeUlkIiwiaW5wdXRCdG4iLCJsYXN0RHJvcEJveCIsInRvdGFsUHJvZml0Iiwic3Bpbm5pbmciLCJiZXQiLCJiZXRBbW91bnQiLCJwYXJzZUZsb2F0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRvRml4ZWQiLCJsYXN0QmV0QW1vdW50IiwidG90YWxBbW91bnQiLCJNYXRoIiwicmFuZG9tIiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwic2V0VGltZW91dCIsImFkZCIsInJlc3VsdCIsImNyZWF0ZURyb3AiLCJjaGVja0lmUGxheWVyV29uIiwidGFrZUZyb21CYWxhbmNlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidmFsdWUiLCJ0aGlzIiwiaWQiLCJmbGlwQ29pbiIsImJhbGFuY2VBZnRlckJldCIsIndpbkNvaW4iLCJ3aW5Ub0FkZCIsInNldEl0ZW0iLCJtYXhCZXRBbW91bnQiLCJzZXRCYWxhbmNlIiwiaXRlbUltZzEiLCJjcmVhdGVFbGVtZW50IiwiaXRlbVBhcnQyIiwiaXRlbVRleHQyIiwiaXRlbUFtb3VudCIsIml0ZW1QYXJ0MSIsInBhcnNlSW50IiwiY29pbmZsaXBXb25Ub0FkZCIsIml0ZW1Cb3giLCJzZXRBdHRyaWJ1dGUiLCJpdGVtVGV4dDEiLCJpdGVtSW1nMiIsInRleHRDb250ZW50IiwiY29sb3IiLCJjb3VudFRvdGFsIiwiYWxsSXRlbXMiLCJ1c2VJbnB1dEJ0biIsImFwcGVuZCIsIml0ZW0iLCJjaGlsZHJlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJidG4iLCJyZXNldENvaW4iXSwibWFwcGluZ3MiOiJBQUFBLElBQU1BLFNBQVdDLFNBQVNDLGlCQUFpQixnQkFBZ0IsRUFDckRD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TUFDRCxJQUFLLE1BQ0o1QixTQUFTNEIsTUFBUWxCLFdBQVdWLFNBQVM0QixLQUFLLEVBQUksRUFDOUMsTUFDRCxJQUFLLEtBQ0o1QixTQUFTNEIsTUFBcUMsRUFBN0JsQixXQUFXVixTQUFTNEIsS0FBSyxFQUMxQyxNQUNELElBQUssTUFDSjVCLFNBQVM0QixNQUFRUSxZQUVuQixDQUNELENBRUEsSUFBTXdCLGtCQUFvQixXQUN6Qi9ELFNBQVM4RCxRQUFRLFNBQUNFLEdBQ2pCQSxFQUFJSCxpQkFBaUIsUUFBU0ksU0FBUyxDQUN4QyxDQUFDLEVBRUQxRCxTQUFTdUQsUUFBUSxTQUFDRSxHQUNqQkEsRUFBSUgsaUJBQWlCLFFBQVNKLFdBQVcsQ0FDMUMsQ0FBQyxDQUNGLEVBRUFNLGtCQUFrQiIsImZpbGUiOiJtb2Rlcy9jb2luZmxpcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29pbmZsaXBfX2J0blwiKTtcclxuY29uc3QgYmV0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVtb2RlX19pbnB1dFwiKTtcclxuY29uc3QgY29pbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29pblwiKTtcclxuY29uc3QgaW5wdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbWVtb2RlX19idG5cIik7XHJcbmNvbnN0IGxhc3REcm9wQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb2luZmxpcF9fbGFzdGRyb3BzYm94XCIpO1xyXG5jb25zdCB0b3RhbFByb2ZpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdG90YWxcIik7XHJcbmxldCBzcGlubmluZyA9IGZhbHNlO1xyXG5sZXQgYmV0ID0gXCJcIjtcclxubGV0IGJldEFtb3VudCA9IDA7XHJcbmxldCBsYXN0QmV0QW1vdW50ID0gMDtcclxubGV0IG1heEJldEFtb3VudCA9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKS50b0ZpeGVkKDIpO1xyXG5sZXQgdG90YWxBbW91bnQgPSAwO1xyXG5cclxuY29uc3QgZmxpcENvaW4gPSAoKSA9PiB7XHJcblx0c3Bpbm5pbmcgPSB0cnVlO1xyXG5cdGNvbnN0IHJlc3VsdCA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyBcImhlYWRzXCIgOiBcInRhaWxzXCI7IC8vIGdldCB3aW4gKENUID0gaGVhZHMsIFQgPSB0YWlscylcclxuXHJcblx0Y29pbi5zdHlsZS50cmFuc2l0aW9uID0gXCJ0cmFuc2Zvcm0gNnMgZWFzZS1pbi1vdXRcIjsgLy8gYWRkIGFuaW1hdGlvblxyXG5cclxuXHQvLyBhZGQgY29ycmVjdCBjbGFzcyBiYXNlZCBvbiByZXN1bHRcclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNvaW4uY2xhc3NMaXN0LmFkZChyZXN1bHQgPT09IFwiaGVhZHNcIiA/IFwiZmxpcC1oZWFkc1wiIDogXCJmbGlwLXRhaWxzXCIpO1xyXG5cdH0sIDEwMCk7XHJcblxyXG5cdC8vIGNoZWNrIGlmIHBsYXllciB3b25cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNoZWNrSWZQbGF5ZXJXb24ocmVzdWx0KTtcclxuXHRcdGNyZWF0ZURyb3AocmVzdWx0KTtcclxuXHR9LCA2MDAwKTtcclxuXHJcblx0Ly8gYWxsb3cgcGxheWVyIHRvIGJldCBhZ2FpblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0c3Bpbm5pbmcgPSBmYWxzZTtcclxuXHR9LCA2NTAwKTtcclxuXHJcblx0dGFrZUZyb21CYWxhbmNlKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiByZXNldENvaW4oKSB7XHJcblx0aWYgKFxyXG5cdFx0c3Bpbm5pbmcgPT09IGZhbHNlICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA+IDAgJiZcclxuXHRcdGJldElucHV0LnZhbHVlIDw9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKVxyXG5cdCkge1xyXG5cdFx0YmV0ID0gXCJcIjtcclxuXHRcdGJldEFtb3VudCA9IDA7XHJcblx0XHRjb2luLnN0eWxlLnRyYW5zaXRpb24gPSBcIm5vbmVcIjtcclxuXHRcdGNvaW4uY2xhc3NMaXN0LnJlbW92ZShcImZsaXAtaGVhZHNcIiwgXCJmbGlwLXRhaWxzXCIpO1xyXG5cclxuXHRcdGJldEFtb3VudCA9IGJldElucHV0LnZhbHVlO1xyXG5cclxuXHRcdC8vIHNldCBhdCB3aGF0IGNvaW4gcGxheWVyIGJldFxyXG5cdFx0c3dpdGNoICh0aGlzLmlkKSB7XHJcblx0XHRcdGNhc2UgXCJjdFwiOlxyXG5cdFx0XHRcdGJldCA9IFwiY3RcIjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcInRcIjpcclxuXHRcdFx0XHRiZXQgPSBcInRcIjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0ZmxpcENvaW4oKTtcclxuXHRcdH0sIDEwKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIHJlbW92ZSBiYWxhbmNlIGFmdGVyIGJldFxyXG5jb25zdCB0YWtlRnJvbUJhbGFuY2UgPSAoKSA9PiB7XHJcblx0Y29uc3QgYmFsYW5jZUFmdGVyQmV0ID1cclxuXHRcdHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKSAtIGJldEFtb3VudDtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYmFsYW5jZUFmdGVyQmV0LnRvRml4ZWQoMikgKyBcIiRcIik7XHJcblxyXG5cdGxhc3RCZXRBbW91bnQgPSBiZXRBbW91bnQ7XHJcblxyXG5cdG1heEJldEFtb3VudCA9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKS50b0ZpeGVkKDIpO1xyXG5cdHNldEJhbGFuY2UoKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSWZQbGF5ZXJXb24gPSAod2luQ29pbikgPT4ge1xyXG5cdGlmICh3aW5Db2luID09PSBcImhlYWRzXCIgJiYgYmV0ID09PSBcImN0XCIpIHtcclxuXHRcdGNvbnN0IHdpblRvQWRkID1cclxuXHRcdFx0YmV0QW1vdW50ICogMiArIHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCB3aW5Ub0FkZC50b0ZpeGVkKDIpICsgXCIkXCIpO1xyXG5cclxuXHRcdGNvbnN0IGNvaW5mbGlwV29uVG9BZGQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNvaW5mbGlwV29uXCIpKSArIDE7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNvaW5mbGlwV29uXCIsIGNvaW5mbGlwV29uVG9BZGQpOyAvLyBVcGRhdGUgc3RhdHNcclxuXHR9IGVsc2UgaWYgKHdpbkNvaW4gPT09IFwidGFpbHNcIiAmJiBiZXQgPT09IFwidFwiKSB7XHJcblx0XHRjb25zdCB3aW5Ub0FkZCA9XHJcblx0XHRcdGJldEFtb3VudCAqIDIgKyBwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKSk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgd2luVG9BZGQudG9GaXhlZCgyKSArIFwiJFwiKTtcclxuXHJcblx0XHRjb25zdCBjb2luZmxpcFdvblRvQWRkID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjb2luZmxpcFdvblwiKSkgKyAxO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjb2luZmxpcFdvblwiLCBjb2luZmxpcFdvblRvQWRkKTtcclxuXHR9XHJcblxyXG5cdHNldEJhbGFuY2UoKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZURyb3AgPSAod2luQ29pbikgPT4ge1xyXG5cdGNvbnN0IGl0ZW1Cb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IGl0ZW1QYXJ0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3QgaXRlbVBhcnQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCBpdGVtVGV4dDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRjb25zdCBpdGVtVGV4dDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRjb25zdCBpdGVtSW1nMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3QgaXRlbUltZzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdGNvbnN0IGl0ZW1BbW91bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0aXRlbUJveC5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXBfX2l0ZW1cIik7XHJcblx0aXRlbVBhcnQxLmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbS1wYXJ0XCIpO1xyXG5cdGl0ZW1QYXJ0Mi5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXBfX2l0ZW0tcGFydFwiKTtcclxuXHRpdGVtVGV4dDEuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLXRleHRcIik7XHJcblx0aXRlbVRleHQyLmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbS10ZXh0XCIpO1xyXG5cdGl0ZW1JbWcxLmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbS1pbWdcIik7XHJcblx0aXRlbUltZzIuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwX19pdGVtLWltZ1wiKTtcclxuXHRpdGVtQW1vdW50LmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcF9faXRlbS10ZXh0XCIpO1xyXG5cclxuXHRzd2l0Y2ggKGJldCkge1xyXG5cdFx0Y2FzZSBcInRcIjpcclxuXHRcdFx0aXRlbUltZzEuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vZGlzdC9pbWcvdC1pY29uLmpwZ1wiKTtcclxuXHRcdFx0aXRlbUltZzEuc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwidCBjb2luXCIpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCJjdFwiOlxyXG5cdFx0XHRpdGVtSW1nMS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9kaXN0L2ltZy9jdC1pY29uLmpwZ1wiKTtcclxuXHRcdFx0aXRlbUltZzEuc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiY3QgY29pblwiKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0fVxyXG5cclxuXHRzd2l0Y2ggKHdpbkNvaW4pIHtcclxuXHRcdGNhc2UgXCJ0YWlsc1wiOlxyXG5cdFx0XHRpdGVtSW1nMi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9kaXN0L2ltZy90LWljb24uanBnXCIpO1xyXG5cdFx0XHRpdGVtSW1nMi5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJ0IGNvaW5cIik7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImhlYWRzXCI6XHJcblx0XHRcdGl0ZW1JbWcyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL2Rpc3QvaW1nL2N0LWljb24uanBnXCIpO1xyXG5cdFx0XHRpdGVtSW1nMi5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJjdCBjb2luXCIpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcblxyXG5cdGl0ZW1UZXh0MS50ZXh0Q29udGVudCA9IFwiQmV0OlwiO1xyXG5cdGl0ZW1UZXh0Mi50ZXh0Q29udGVudCA9IFwiRHJvcDpcIjtcclxuXHJcblx0aWYgKFxyXG5cdFx0KHdpbkNvaW4gPT09IFwiaGVhZHNcIiAmJiBiZXQgPT09IFwiY3RcIikgfHxcclxuXHRcdCh3aW5Db2luID09PSBcInRhaWxzXCIgJiYgYmV0ID09PSBcInRcIilcclxuXHQpIHtcclxuXHRcdGl0ZW1BbW91bnQuc3R5bGUuY29sb3IgPSBcInJnYigxMTMsIDIxNCwgNzcpXCI7XHJcblx0XHRpdGVtQW1vdW50LnRleHRDb250ZW50ID0gXCIrXCIgKyBwYXJzZUZsb2F0KGJldEFtb3VudCkudG9GaXhlZCgyKSArIFwiJFwiO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpdGVtQW1vdW50LnN0eWxlLmNvbG9yID0gXCJyZ2IoMjM1LCA3NSwgNzUpXCI7XHJcblx0XHRpdGVtQW1vdW50LnRleHRDb250ZW50ID0gXCItXCIgKyBwYXJzZUZsb2F0KGJldEFtb3VudCkudG9GaXhlZCgyKSArIFwiJFwiO1xyXG5cdH1cclxuXHJcblx0aXRlbVBhcnQxLmFwcGVuZChpdGVtVGV4dDEsIGl0ZW1JbWcxKTtcclxuXHRpdGVtUGFydDIuYXBwZW5kKGl0ZW1UZXh0MiwgaXRlbUltZzIpO1xyXG5cdGl0ZW1Cb3guYXBwZW5kKGl0ZW1QYXJ0MSwgaXRlbVBhcnQyLCBpdGVtQW1vdW50KTtcclxuXHRsYXN0RHJvcEJveC5hcHBlbmQoaXRlbUJveCk7XHJcblxyXG5cdGNvdW50VG90YWwoKTtcclxufTtcclxuXHJcbmNvbnN0IGNvdW50VG90YWwgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvaW5mbGlwX19pdGVtXCIpO1xyXG5cdHRvdGFsQW1vdW50ID0gMDtcclxuXHJcblx0YWxsSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0dG90YWxBbW91bnQgPVxyXG5cdFx0XHRwYXJzZUZsb2F0KHRvdGFsQW1vdW50KSArIHBhcnNlRmxvYXQoaXRlbS5jaGlsZHJlblsyXS50ZXh0Q29udGVudCk7XHJcblx0fSk7XHJcblxyXG5cdGlmICh0b3RhbEFtb3VudCA8IDApIHtcclxuXHRcdHRvdGFsUHJvZml0LnN0eWxlLmNvbG9yID0gXCJyZ2IoMjM1LCA3NSwgNzUpXCI7XHJcblx0XHR0b3RhbFByb2ZpdC50ZXh0Q29udGVudCA9IHBhcnNlRmxvYXQodG90YWxBbW91bnQpLnRvRml4ZWQoMikgKyBcIiRcIjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dG90YWxQcm9maXQuc3R5bGUuY29sb3IgPSBcInJnYigxMTMsIDIxNCwgNzcpXCI7XHJcblx0XHR0b3RhbFByb2ZpdC50ZXh0Q29udGVudCA9IFwiK1wiICsgcGFyc2VGbG9hdCh0b3RhbEFtb3VudCkudG9GaXhlZCgyKSArIFwiJFwiO1xyXG5cdH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHVzZUlucHV0QnRuKCkge1xyXG5cdHN3aXRjaCAodGhpcy5pZCkge1xyXG5cdFx0Y2FzZSBcImNsZWFyXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gXCIwXCI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcImxhc3RcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBsYXN0QmV0QW1vdW50O1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMVwiOlxyXG5cdFx0XHRiZXRJbnB1dC52YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpICsgMTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiKzEwXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgKyAxMDtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiKzEwMFwiOlxyXG5cdFx0XHRiZXRJbnB1dC52YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpICsgMTAwO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCIrMTAwMFwiOlxyXG5cdFx0XHRiZXRJbnB1dC52YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpICsgMTAwMDtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiMS8yXCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSkgLyAyO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCJ4MlwiOlxyXG5cdFx0XHRiZXRJbnB1dC52YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpICogMjtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwibWF4XCI6XHJcblx0XHRcdGJldElucHV0LnZhbHVlID0gbWF4QmV0QW1vdW50O1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGFkZEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG5cdHN0YXJ0QnRuLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZXNldENvaW4pO1xyXG5cdH0pO1xyXG5cclxuXHRpbnB1dEJ0bi5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdXNlSW5wdXRCdG4pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxuIl19
