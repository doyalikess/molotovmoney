var allBoxes=document.querySelectorAll(".mines__item"),allCheckboxes=document.querySelectorAll(".battles__options-checkbox"),fieldBg=document.querySelector(".mines__field-bg"),allUnderBox=document.querySelectorAll(".mines__item-under"),allUnderBoxArray=Array.from(allUnderBox),startBtn=document.querySelector("#start"),withdrawBtn=document.querySelector("#withdraw"),winAmount=document.querySelector("#winamount"),betInput=document.querySelector(".gamemode__input"),betBtn=document.querySelectorAll(".gamemode__btn"),createdField=!1,canClick=!0,currentAmountOfWin=0,betAmount=0,pickedCorrect=0,minesAmount=3;function swapUp(){var e=this;canClick=!(canClick=!0),this.classList.remove("mines-canhover"),this.classList.add("flip-down"),this.children[0].classList.add("hidden"),setTimeout(function(){e.children[1].classList.remove("hidden"),e.classList.add("flip-up"),((canClick=!0)===e.children[1].firstElementChild.classList.contains("mines__item-img")?playerLost:(pickedCorrect++,getAmountOfTotal))()},100)}var getRandomBoxNumber=function(){return Math.floor(25*Math.random())},createAmountOfMines=function(){if(null!==allUnderBoxArray[0].firstElementChild&&(allUnderBoxArray.forEach(function(e){e.firstElementChild.remove()}),allUnderBoxArray.forEach(function(e){e.parentElement.classList.add("mines-canhover"),e.parentElement.firstElementChild.classList.remove("hidden"),e.parentElement.lastElementChild.classList.add("hidden"),e.parentElement.classList.remove("flip-up"),e.parentElement.classList.remove("flip-down")})),!1===createdField&&0<betInput.value&&betInput.value<=parseFloat(localStorage.getItem("Balance"))){fieldBg.classList.add("hidden"),betAmount=parseFloat(betInput.value),currentAmountOfWin=parseFloat(betAmount),startBtn.classList.add("hidden"),withdrawBtn.classList.remove("hidden"),winAmount.textContent=parseFloat(betAmount).toFixed(2)+"$";var e=parseFloat(localStorage.getItem("Balance"))-parseFloat(betAmount);for(localStorage.setItem("Balance",parseFloat(e).toFixed(2)+"$"),allCheckboxes.forEach(function(e){!0===e.checked&&(minesAmount=e.id)}),i=0;i<minesAmount;i++){for(var t=document.createElement("img"),n=(t.classList.add("mines__item-img"),t.setAttribute("src","../dist/img/mine_no_bg.png"),t.setAttribute("alt","Mine icon"),getRandomBoxNumber());0<allUnderBoxArray[n].children.length;)n=getRandomBoxNumber();allUnderBoxArray[n].append(t)}setBalance(),createAllCheckMarks(),createdField=!0}},createAllCheckMarks=function(){allUnderBoxArray.forEach(function(e){var t;0===e.childElementCount&&((t=document.createElement("i")).classList.add("fa-solid","fa-check","mines__item-icon","mines__item-icon--green"),e.append(t))})},getAmountOfTotal=function(){switch(minesAmount){case"3":switch(pickedCorrect){case 1:currentAmountOfWin+=.15*parseFloat(betAmount);break;case 2:currentAmountOfWin+=.25*parseFloat(betAmount);break;case 3:currentAmountOfWin+=.4*parseFloat(betAmount);break;case 4:currentAmountOfWin+=.6*parseFloat(betAmount);break;case 5:currentAmountOfWin+=.8*parseFloat(betAmount);break;case 6:currentAmountOfWin+=1.1*parseFloat(betAmount);break;case 7:currentAmountOfWin+=1.5*parseFloat(betAmount);break;case 8:currentAmountOfWin+=2*parseFloat(betAmount);break;case 9:currentAmountOfWin+=2.5*parseFloat(betAmount);break;case 10:currentAmountOfWin+=3*parseFloat(betAmount);break;case 11:currentAmountOfWin+=3.8*parseFloat(betAmount);break;case 12:currentAmountOfWin+=4.7*parseFloat(betAmount);break;case 13:currentAmountOfWin+=5.7*parseFloat(betAmount);break;case 14:currentAmountOfWin+=7*parseFloat(betAmount);break;case 15:currentAmountOfWin+=8.5*parseFloat(betAmount);break;case 16:currentAmountOfWin+=10.5*parseFloat(betAmount);break;case 17:currentAmountOfWin+=12.8*parseFloat(betAmount);break;case 18:currentAmountOfWin+=15.3*parseFloat(betAmount);break;case 19:currentAmountOfWin+=18.5*parseFloat(betAmount);break;case 20:currentAmountOfWin+=22*parseFloat(betAmount);break;case 21:currentAmountOfWin+=27*parseFloat(betAmount);break;case 22:currentAmountOfWin+=35*parseFloat(betAmount),playerCheckAll()}break;case"6":switch(pickedCorrect){case 1:currentAmountOfWin+=.2*parseFloat(betAmount);break;case 2:currentAmountOfWin+=.35*parseFloat(betAmount);break;case 3:currentAmountOfWin+=.6*parseFloat(betAmount);break;case 4:currentAmountOfWin+=.85*parseFloat(betAmount);break;case 5:currentAmountOfWin+=1.2*parseFloat(betAmount);break;case 6:currentAmountOfWin+=1.6*parseFloat(betAmount);break;case 7:currentAmountOfWin+=2.1*parseFloat(betAmount);break;case 8:currentAmountOfWin+=2.8*parseFloat(betAmount);break;case 9:currentAmountOfWin+=3.5*parseFloat(betAmount);break;case 10:currentAmountOfWin+=4.3*parseFloat(betAmount);break;case 11:currentAmountOfWin+=5.5*parseFloat(betAmount);break;case 12:currentAmountOfWin+=7*parseFloat(betAmount);break;case 13:currentAmountOfWin+=9*parseFloat(betAmount);break;case 14:currentAmountOfWin+=11.5*parseFloat(betAmount);break;case 15:currentAmountOfWin+=14.5*parseFloat(betAmount);break;case 16:currentAmountOfWin+=18*parseFloat(betAmount);break;case 17:currentAmountOfWin+=22.5*parseFloat(betAmount);break;case 18:currentAmountOfWin+=28*parseFloat(betAmount);break;case 19:currentAmountOfWin+=35*parseFloat(betAmount),playerCheckAll()}break;case"12":switch(pickedCorrect){case 1:currentAmountOfWin+=.3*parseFloat(betAmount);break;case 2:currentAmountOfWin+=.55*parseFloat(betAmount);break;case 3:currentAmountOfWin+=.85*parseFloat(betAmount);break;case 4:currentAmountOfWin+=1.25*parseFloat(betAmount);break;case 5:currentAmountOfWin+=1.8*parseFloat(betAmount);break;case 6:currentAmountOfWin+=2.4*parseFloat(betAmount);break;case 7:currentAmountOfWin+=3.2*parseFloat(betAmount);break;case 8:currentAmountOfWin+=4.2*parseFloat(betAmount);break;case 9:currentAmountOfWin+=5.5*parseFloat(betAmount);break;case 10:currentAmountOfWin+=7.2*parseFloat(betAmount);break;case 11:currentAmountOfWin+=9.5*parseFloat(betAmount);break;case 12:currentAmountOfWin+=12.5*parseFloat(betAmount);break;case 13:currentAmountOfWin+=17*parseFloat(betAmount),playerCheckAll()}break;case"24":1===pickedCorrect&&(currentAmountOfWin+=25*parseFloat(betAmount),playerCheckAll())}winAmount.textContent=parseFloat(currentAmountOfWin).toFixed(2)+"$"},playerLost=function(){fieldBg.classList.remove("hidden"),fieldBg.style.color="rgb(235, 75, 75)",fieldBg.textContent="You lost",withdrawBtn.classList.add("hidden"),startBtn.classList.remove("hidden"),winAmount.textContent="0.00$",allUnderBoxArray.forEach(function(e){e.firstElementChild.classList.contains("mines__item-img")&&(e.parentElement.classList.add("flip-down"),e.parentElement.firstElementChild.classList.add("hidden"),setTimeout(function(){e.parentElement.lastElementChild.classList.remove("hidden"),e.parentElement.classList.add("flip-up")},100))}),resetVariables()},playerCheckAll=function(){fieldBg.classList.remove("hidden"),fieldBg.style.color="rgb(113, 214, 77)",fieldBg.textContent="You Won "+parseFloat(currentAmountOfWin).toFixed(2)+"$",withdrawBtn.classList.add("hidden"),startBtn.classList.remove("hidden"),winAmount.textContent="0.00$",allUnderBoxArray.forEach(function(e){e.firstElementChild.classList.contains("mines__item-img")&&(e.parentElement.classList.add("flip-down"),e.parentElement.firstElementChild.classList.add("hidden"),setTimeout(function(){e.parentElement.lastElementChild.classList.remove("hidden"),e.parentElement.classList.add("flip-up")},100))});var e=parseInt(localStorage.getItem("saperWon"))+1;localStorage.setItem("saperWon",e),resetVariables()},withdraw=function(){var e;!0===createdField&&0<parseFloat(currentAmountOfWin)&&(e=parseFloat(localStorage.getItem("Balance"))+parseFloat(currentAmountOfWin),localStorage.setItem("Balance",parseFloat(e).toFixed(2)+"$"),setBalance(),playerCheckAll())},resetVariables=function(){createdField=!1,pickedCorrect=betAmount=currentAmountOfWin=0};function setPlayersAmount(){allCheckboxes.forEach(function(e){e.checked=!1}),this.checked=!0}function useInputBtn(){switch(this.id){case"clear":betInput.value="0";break;case"+1":betInput.value=parseFloat(betInput.value)+1;break;case"+10":betInput.value=parseFloat(betInput.value)+10;break;case"+100":betInput.value=parseFloat(betInput.value)+100}}var addEvenetListeners=function(){allBoxes.forEach(function(e){e.addEventListener("click",swapUp)}),allCheckboxes.forEach(function(e){e.addEventListener("click",setPlayersAmount)}),betBtn.forEach(function(e){e.addEventListener("click",useInputBtn)}),startBtn.addEventListener("click",createAmountOfMines),withdrawBtn.addEventListener("click",withdraw)};addEvenetListeners();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVzL3NhcGVyLmpzIl0sIm5hbWVzIjpbImFsbEJveGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWxsQ2hlY2tib3hlcyIsImZpZWxkQmciLCJxdWVyeVNlbGVjdG9yIiwiYWxsVW5kZXJCb3giLCJhbGxVbmRlckJveEFycmF5IiwiZnJvbSIsInN0YXJ0QnRuIiwid2l0aGRyYXdCdG4iLCJ3aW5BbW91bnQiLCJiZXRJbnB1dCIsImJldEJ0biIsImNyZWF0ZWRGaWVsZCIsImNhbkNsaWNrIiwiY3VycmVudEFtb3VudE9mV2luIiwiYmV0QW1vdW50IiwibWluZXNBbW91bnQiLCJfdGhpcyIsInRoaXMiLCJyZW1vdmUiLCJhZGQiLCJjaGlsZHJlbiIsImNsYXNzTGlzdCIsInNldFRpbWVvdXQiLCJwbGF5ZXJMb3N0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjb250YWlucyIsInBpY2tlZENvcnJlY3QiLCJnZXRSYW5kb21Cb3hOdW1iZXIiLCJnZXRBbW91bnRPZlRvdGFsIiwiZm9yRWFjaCIsInJhbmRvbSIsImJveCIsImxhc3RFbGVtZW50Q2hpbGQiLCJwYXJlbnRFbGVtZW50IiwicGFyc2VGbG9hdCIsInRleHRDb250ZW50IiwidmFsdWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibWluZUltZyIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyYW5kb21Cb3hJbmRleCIsImxlbmd0aCIsImFtb3VudFRvVGFrZUZyb21CYWxhbmNlIiwic2V0SXRlbSIsInRvRml4ZWQiLCJpdGVtIiwiY2hlY2tlZCIsImlkIiwiaSIsImljb24iLCJhcHBlbmQiLCJzZXRCYWxhbmNlIiwiY3JlYXRlQWxsQ2hlY2tNYXJrcyIsInBsYXllckNoZWNrQWxsIiwicmVzZXRWYXJpYWJsZXMiLCJzYXBlcldvblRvQWRkIiwiY29sb3IiLCJzZXRQbGF5ZXJzQW1vdW50Iiwic3R5bGUiLCJhZGRFdmVuZXRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwidXNlSW5wdXRCdG4iLCJwYXJzZUludCIsIndpdGhkcmF3IiwiYW1vdW50VG9BZGRUb0JhbGFuY2UiLCJzd2FwVXAiLCJidG4iLCJjcmVhdGVBbW91bnRPZk1pbmVzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxTQUFXQyxTQUFTQyxpQkFBaUIsY0FBYyxFQUNuREMsY0FBZ0JGLFNBQVNDLGlCQUFpQiw0QkFBNEIsRUFEdEVGLFFBQVdDLFNBQVNDLGNBQUFBLGtCQUFnQyxFQUNwREMsWUFBZ0JGLFNBQVNDLGlCQUFpQixvQkFBQSxFQUMxQ0UsaUJBQW1CQyxNQUFBQSxLQUFhQyxXQUFDLEVBQ2pDQSxTQUFXTCxTQUFXSSxjQUFDSCxRQUFpQixFQUN4Q0ssWUFBZ0JOLFNBQVNPLGNBQUtGLFdBQVksRUFDMUNHLFVBQVdSLFNBQVNJLGNBQWMsWUFBUyxFQUMzQ0ssU0FBV1QsU0FBV0ksY0FBYyxrQkFBYSxFQUNqRE0sT0FBU1YsU0FBV0MsaUJBQWUsZ0JBQWEsRUFDaERVLGFBQVdYLENBQUFBLEVBQ1hZLFNBQVNaLENBQUFBLEVBQ1hhLG1CQUFvQixFQUNwQkMsVUFBVyxFQUNYQyxjQUFBQSxFQUNBQyxZQUFhLEVBRWpCLFNBQUlDLFNBQWMsSUFBQUMsRUFBQUMsS0FFQUwsU0FBQSxFQUFsQkEsU0FBZSxDQUFBLEdBQ2RLLEtBQUtMLFVBQVdNLE9BQU8sZ0JBQUEsRUFHdEJELEtBRkFMLFVBQVdPLElBQUssV0FBQSxFQUdoQkYsS0FGQUcsU0FBS0MsR0FBVUgsVUFBT0MsSUFBQSxRQUFBLEVBSXRCRyxXQUZLRixXQUdKSixFQURETSxTQUFXLEdBQUFELFVBQU1ILE9BQUEsUUFBQSxFQUVoQkYsRUFEQUEsVUFBS0ksSUFBVSxTQUFFQyxJQUVqQlQsU0FES1MsQ0FBQUEsS0FJSkwsRUFJQU8sU0FBVSxHQUFFQyxrQkFBQUgsVUFBQUksU0FIWCxpQkFDRCxFQUVBRixZQVVKRyxhQUFNQyxHQUNMQyxtQkFORUEsQ0FRRixFQUFBLEdBQUEsQ0FHRCxDQU5BLElBUUV4QixtQkFBaUJ5QixXQUxsQixP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aUIsUUFBU0ssTUFBTSxDQUN0QyxDQUFDLEVBRURuRSxjQUFjNkIsUUFBUSxTQUFDa0IsR0FDdEJBLEVBQUtlLGlCQUFpQixRQUFTSCxnQkFBZ0IsQ0FDaEQsQ0FBQyxFQUVEakQsT0FBT21CLFFBQVEsU0FBQ3VDLEdBQ2ZBLEVBQUlOLGlCQUFpQixRQUFTQyxXQUFXLENBQzFDLENBQUMsRUFFRHpELFNBQVN3RCxpQkFBaUIsUUFBU08sbUJBQW1CLEVBQ3REOUQsWUFBWXVELGlCQUFpQixRQUFTRyxRQUFRLENBQy9DLEVBRUFKLG1CQUFtQiIsImZpbGUiOiJtb2Rlcy9zYXBlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbGxCb3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWluZXNfX2l0ZW1cIik7XHJcbmNvbnN0IGFsbENoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJhdHRsZXNfX29wdGlvbnMtY2hlY2tib3hcIik7XHJcbmNvbnN0IGZpZWxkQmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1pbmVzX19maWVsZC1iZ1wiKTtcclxuY29uc3QgYWxsVW5kZXJCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1pbmVzX19pdGVtLXVuZGVyXCIpO1xyXG5jb25zdCBhbGxVbmRlckJveEFycmF5ID0gQXJyYXkuZnJvbShhbGxVbmRlckJveCk7XHJcbmNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGFydFwiKTtcclxuY29uc3Qgd2l0aGRyYXdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dpdGhkcmF3XCIpO1xyXG5jb25zdCB3aW5BbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dpbmFtb3VudFwiKTtcclxuY29uc3QgYmV0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVtb2RlX19pbnB1dFwiKTtcclxuY29uc3QgYmV0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYW1lbW9kZV9fYnRuXCIpO1xyXG5sZXQgY3JlYXRlZEZpZWxkID0gZmFsc2U7XHJcbmxldCBjYW5DbGljayA9IHRydWU7XHJcbmxldCBjdXJyZW50QW1vdW50T2ZXaW4gPSAwO1xyXG5sZXQgYmV0QW1vdW50ID0gMDtcclxubGV0IHBpY2tlZENvcnJlY3QgPSAwO1xyXG5sZXQgbWluZXNBbW91bnQgPSAzO1xyXG5cclxuZnVuY3Rpb24gc3dhcFVwKCkge1xyXG5cdGlmICgoY2FuQ2xpY2sgPSB0cnVlKSkge1xyXG5cdFx0Y2FuQ2xpY2sgPSBmYWxzZTtcclxuXHRcdHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcIm1pbmVzLWNhbmhvdmVyXCIpO1xyXG5cdFx0dGhpcy5jbGFzc0xpc3QuYWRkKFwiZmxpcC1kb3duXCIpO1xyXG5cdFx0dGhpcy5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmNoaWxkcmVuWzFdLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRcdHRoaXMuY2xhc3NMaXN0LmFkZChcImZsaXAtdXBcIik7XHJcblx0XHRcdGNhbkNsaWNrID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR0aGlzLmNoaWxkcmVuWzFdLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5jb250YWlucyhcclxuXHRcdFx0XHRcdFwibWluZXNfX2l0ZW0taW1nXCJcclxuXHRcdFx0XHQpID09PSB0cnVlXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHBsYXllckxvc3QoKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHBpY2tlZENvcnJlY3QrKztcclxuXHRcdFx0Z2V0QW1vdW50T2ZUb3RhbCgpO1xyXG5cdFx0fSwgMTAwKTtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGdldFJhbmRvbUJveE51bWJlciA9ICgpID0+IHtcclxuXHRjb25zdCByYW5kb21Cb3ggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNSk7XHJcblxyXG5cdHJldHVybiByYW5kb21Cb3g7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBbW91bnRPZk1pbmVzID0gKCkgPT4ge1xyXG5cdGlmIChhbGxVbmRlckJveEFycmF5WzBdLmZpcnN0RWxlbWVudENoaWxkICE9PSBudWxsKSB7XHJcblx0XHRhbGxVbmRlckJveEFycmF5LmZvckVhY2goKGJveCkgPT4ge1xyXG5cdFx0XHRib3guZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRhbGxVbmRlckJveEFycmF5LmZvckVhY2goKGJveCkgPT4ge1xyXG5cdFx0XHRib3gucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWluZXMtY2FuaG92ZXJcIik7XHJcblx0XHRcdGJveC5wYXJlbnRFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRcdGJveC5wYXJlbnRFbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdFx0Ym94LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZsaXAtdXBcIik7XHJcblx0XHRcdGJveC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmbGlwLWRvd25cIik7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGlmIChcclxuXHRcdGNyZWF0ZWRGaWVsZCA9PT0gZmFsc2UgJiZcclxuXHRcdGJldElucHV0LnZhbHVlID4gMCAmJlxyXG5cdFx0YmV0SW5wdXQudmFsdWUgPD0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIikpXHJcblx0KSB7XHJcblx0XHRmaWVsZEJnLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHRiZXRBbW91bnQgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IHBhcnNlRmxvYXQoYmV0QW1vdW50KTtcclxuXHRcdHN0YXJ0QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHR3aXRoZHJhd0J0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0d2luQW1vdW50LnRleHRDb250ZW50ID0gcGFyc2VGbG9hdChiZXRBbW91bnQpLnRvRml4ZWQoMikgKyBcIiRcIjtcclxuXHJcblx0XHRjb25zdCBhbW91bnRUb1Rha2VGcm9tQmFsYW5jZSA9XHJcblx0XHRcdHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpKSAtIHBhcnNlRmxvYXQoYmV0QW1vdW50KTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxyXG5cdFx0XHRcIkJhbGFuY2VcIixcclxuXHRcdFx0cGFyc2VGbG9hdChhbW91bnRUb1Rha2VGcm9tQmFsYW5jZSkudG9GaXhlZCgyKSArIFwiJFwiXHJcblx0XHQpO1xyXG5cclxuXHRcdGFsbENoZWNrYm94ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRpZiAoaXRlbS5jaGVja2VkID09PSB0cnVlKSB7XHJcblx0XHRcdFx0bWluZXNBbW91bnQgPSBpdGVtLmlkO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgbWluZXNBbW91bnQ7IGkrKykge1xyXG5cdFx0XHRjb25zdCBtaW5lSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdFx0bWluZUltZy5jbGFzc0xpc3QuYWRkKFwibWluZXNfX2l0ZW0taW1nXCIpO1xyXG5cdFx0XHRtaW5lSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL2Rpc3QvaW1nL21pbmVfbm9fYmcucG5nXCIpO1xyXG5cdFx0XHRtaW5lSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIk1pbmUgaWNvblwiKTtcclxuXHJcblx0XHRcdGxldCByYW5kb21Cb3hJbmRleCA9IGdldFJhbmRvbUJveE51bWJlcigpO1xyXG5cdFx0XHR3aGlsZSAoYWxsVW5kZXJCb3hBcnJheVtyYW5kb21Cb3hJbmRleF0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdHJhbmRvbUJveEluZGV4ID0gZ2V0UmFuZG9tQm94TnVtYmVyKCk7IC8vIEplxZtsaSBtYSBkemllY2tvLCBsb3N1aiBwb25vd25pZVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBEb2RhaiBtaW7EmSBkbyBwdXN0ZWdvIHBvbGFcclxuXHRcdFx0YWxsVW5kZXJCb3hBcnJheVtyYW5kb21Cb3hJbmRleF0uYXBwZW5kKG1pbmVJbWcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNldEJhbGFuY2UoKTtcclxuXHRcdGNyZWF0ZUFsbENoZWNrTWFya3MoKTtcclxuXHRcdGNyZWF0ZWRGaWVsZCA9IHRydWU7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQWxsQ2hlY2tNYXJrcyA9ICgpID0+IHtcclxuXHRhbGxVbmRlckJveEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGlmIChpdGVtLmNoaWxkRWxlbWVudENvdW50ID09PSAwKSB7XHJcblx0XHRcdGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcclxuXHRcdFx0aWNvbi5jbGFzc0xpc3QuYWRkKFxyXG5cdFx0XHRcdFwiZmEtc29saWRcIixcclxuXHRcdFx0XHRcImZhLWNoZWNrXCIsXHJcblx0XHRcdFx0XCJtaW5lc19faXRlbS1pY29uXCIsXHJcblx0XHRcdFx0XCJtaW5lc19faXRlbS1pY29uLS1ncmVlblwiXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRpdGVtLmFwcGVuZChpY29uKTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldEFtb3VudE9mVG90YWwgPSAoKSA9PiB7XHJcblx0c3dpdGNoIChtaW5lc0Ftb3VudCkge1xyXG5cdFx0Y2FzZSBcIjNcIjpcclxuXHRcdFx0c3dpdGNoIChwaWNrZWRDb3JyZWN0KSB7XHJcblx0XHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMC4xNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDAuMjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDM6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjQ7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDQ6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjY7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDU6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjg7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDY6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxLjE7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDc6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxLjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDg6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAyO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA5OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMi41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMDpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDM7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDExOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMy44O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDQuNztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTM6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA1Ljc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE0OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogNztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTU6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA4LjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE2OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMTAuNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTc6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxMi44O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxODpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDE1LjM7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE5OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMTguNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMjA6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAyMjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMjE6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAyNztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMjI6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAzNTtcclxuXHRcdFx0XHRcdHBsYXllckNoZWNrQWxsKCk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgXCI2XCI6XHJcblx0XHRcdHN3aXRjaCAocGlja2VkQ29ycmVjdCkge1xyXG5cdFx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDAuMjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDAuMzU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDM6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjY7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDQ6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjg1O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA1OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMS4yO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA2OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMS42O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA3OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMi4xO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA4OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMi44O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA5OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMy41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMDpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDQuMztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTE6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA1LjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDEyOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogNztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTM6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA5O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxNDpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDExLjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDE1OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMTQuNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTY6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAxODtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTc6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAyMi41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxODpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDI4O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxOTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDM1O1xyXG5cdFx0XHRcdFx0cGxheWVyQ2hlY2tBbGwoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIjEyXCI6XHJcblx0XHRcdHN3aXRjaCAocGlja2VkQ29ycmVjdCkge1xyXG5cdFx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDAuMztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDAuNTU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDM6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiAwLjg1O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSA0OlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID1cclxuXHRcdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMS4yNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDEuODtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDIuNDtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgNzpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDMuMjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgODpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDQuMjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgOTpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9IGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDUuNTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMTA6XHJcblx0XHRcdFx0XHRjdXJyZW50QW1vdW50T2ZXaW4gPSBjdXJyZW50QW1vdW50T2ZXaW4gKyBwYXJzZUZsb2F0KGJldEFtb3VudCkgKiA3LjI7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDExOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogOS41O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAxMjpcclxuXHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiA9XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRBbW91bnRPZldpbiArIHBhcnNlRmxvYXQoYmV0QW1vdW50KSAqIDEyLjU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDEzOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMTc7XHJcblx0XHRcdFx0XHRwbGF5ZXJDaGVja0FsbCgpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiMjRcIjpcclxuXHRcdFx0c3dpdGNoIChwaWNrZWRDb3JyZWN0KSB7XHJcblx0XHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdFx0Y3VycmVudEFtb3VudE9mV2luID0gY3VycmVudEFtb3VudE9mV2luICsgcGFyc2VGbG9hdChiZXRBbW91bnQpICogMjU7XHJcblx0XHRcdFx0XHRwbGF5ZXJDaGVja0FsbCgpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0fVxyXG5cclxuXHR3aW5BbW91bnQudGV4dENvbnRlbnQgPSBwYXJzZUZsb2F0KGN1cnJlbnRBbW91bnRPZldpbikudG9GaXhlZCgyKSArIFwiJFwiO1xyXG59O1xyXG5cclxuY29uc3QgcGxheWVyTG9zdCA9ICgpID0+IHtcclxuXHRmaWVsZEJnLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0ZmllbGRCZy5zdHlsZS5jb2xvciA9IFwicmdiKDIzNSwgNzUsIDc1KVwiO1xyXG5cdGZpZWxkQmcudGV4dENvbnRlbnQgPSBcIllvdSBsb3N0XCI7XHJcblx0d2l0aGRyYXdCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRzdGFydEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHR3aW5BbW91bnQudGV4dENvbnRlbnQgPSBcIjAuMDAkXCI7XHJcblxyXG5cdGFsbFVuZGVyQm94QXJyYXkuZm9yRWFjaCgoYm94KSA9PiB7XHJcblx0XHRpZiAoYm94LmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5jb250YWlucyhcIm1pbmVzX19pdGVtLWltZ1wiKSkge1xyXG5cdFx0XHRib3gucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZmxpcC1kb3duXCIpO1xyXG5cdFx0XHRib3gucGFyZW50RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0Ym94LnBhcmVudEVsZW1lbnQubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHRcdGJveC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmbGlwLXVwXCIpO1xyXG5cdFx0XHR9LCAxMDApO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXNldFZhcmlhYmxlcygpO1xyXG59O1xyXG5cclxuY29uc3QgcGxheWVyQ2hlY2tBbGwgPSAoKSA9PiB7XHJcblx0ZmllbGRCZy5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdGZpZWxkQmcuc3R5bGUuY29sb3IgPSBcInJnYigxMTMsIDIxNCwgNzcpXCI7XHJcblx0ZmllbGRCZy50ZXh0Q29udGVudCA9XHJcblx0XHRcIllvdSBXb24gXCIgKyBwYXJzZUZsb2F0KGN1cnJlbnRBbW91bnRPZldpbikudG9GaXhlZCgyKSArIFwiJFwiO1xyXG5cdHdpdGhkcmF3QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c3RhcnRCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0d2luQW1vdW50LnRleHRDb250ZW50ID0gXCIwLjAwJFwiO1xyXG5cclxuXHRhbGxVbmRlckJveEFycmF5LmZvckVhY2goKGJveCkgPT4ge1xyXG5cdFx0aWYgKGJveC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoXCJtaW5lc19faXRlbS1pbWdcIikpIHtcclxuXHRcdFx0Ym94LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZsaXAtZG93blwiKTtcclxuXHRcdFx0Ym94LnBhcmVudEVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdGJveC5wYXJlbnRFbGVtZW50Lmxhc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdFx0XHRib3gucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZmxpcC11cFwiKTtcclxuXHRcdFx0fSwgMTAwKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0Y29uc3Qgc2FwZXJXb25Ub0FkZCA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2FwZXJXb25cIikpICsgMTtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNhcGVyV29uXCIsIHNhcGVyV29uVG9BZGQpOyAvLyBVcGRhdGUgc3RhdHNcclxuXHJcblx0cmVzZXRWYXJpYWJsZXMoKTtcclxufTtcclxuXHJcbmNvbnN0IHdpdGhkcmF3ID0gKCkgPT4ge1xyXG5cdGlmIChjcmVhdGVkRmllbGQgPT09IHRydWUgJiYgcGFyc2VGbG9hdChjdXJyZW50QW1vdW50T2ZXaW4pID4gMCkge1xyXG5cdFx0Y29uc3QgYW1vdW50VG9BZGRUb0JhbGFuY2UgPVxyXG5cdFx0XHRwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKSkgK1xyXG5cdFx0XHRwYXJzZUZsb2F0KGN1cnJlbnRBbW91bnRPZldpbik7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcclxuXHRcdFx0XCJCYWxhbmNlXCIsXHJcblx0XHRcdHBhcnNlRmxvYXQoYW1vdW50VG9BZGRUb0JhbGFuY2UpLnRvRml4ZWQoMikgKyBcIiRcIlxyXG5cdFx0KTtcclxuXHJcblx0XHRzZXRCYWxhbmNlKCk7XHJcblx0XHRwbGF5ZXJDaGVja0FsbCgpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0VmFyaWFibGVzID0gKCkgPT4ge1xyXG5cdGNyZWF0ZWRGaWVsZCA9IGZhbHNlO1xyXG5cdGN1cnJlbnRBbW91bnRPZldpbiA9IDA7XHJcblx0YmV0QW1vdW50ID0gMDtcclxuXHRwaWNrZWRDb3JyZWN0ID0gMDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHNldFBsYXllcnNBbW91bnQoKSB7XHJcblx0YWxsQ2hlY2tib3hlcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRpdGVtLmNoZWNrZWQgPSBmYWxzZTtcclxuXHR9KTtcclxuXHJcblx0dGhpcy5jaGVja2VkID0gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXNlSW5wdXRCdG4oKSB7XHJcblx0c3dpdGNoICh0aGlzLmlkKSB7XHJcblx0XHRjYXNlIFwiY2xlYXJcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBcIjBcIjtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIFwiKzFcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKSArIDE7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIisxMFwiOlxyXG5cdFx0XHRiZXRJbnB1dC52YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpICsgMTA7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBcIisxMDBcIjpcclxuXHRcdFx0YmV0SW5wdXQudmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKSArIDEwMDtcclxuXHRcdFx0YnJlYWs7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBhZGRFdmVuZXRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcblx0YWxsQm94ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc3dhcFVwKTtcclxuXHR9KTtcclxuXHJcblx0YWxsQ2hlY2tib3hlcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZXRQbGF5ZXJzQW1vdW50KTtcclxuXHR9KTtcclxuXHJcblx0YmV0QnRuLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB1c2VJbnB1dEJ0bik7XHJcblx0fSk7XHJcblxyXG5cdHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVBbW91bnRPZk1pbmVzKTtcclxuXHR3aXRoZHJhd0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgd2l0aGRyYXcpO1xyXG59O1xyXG5cclxuYWRkRXZlbmV0TGlzdGVuZXJzKCk7XHJcbiJdfQ==
