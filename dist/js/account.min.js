var loginBtn=document.querySelector("#login-btn"),logoutBtn=document.querySelector("#logout-btn"),loggedIn=document.querySelector(".user__logged-out"),loggedOut=document.querySelector(".user__logged-in"),loginBtnMobile=document.querySelector("#login-btn-mobile"),logoutBtnMobile=document.querySelector("#logout-btn-mobile"),loggedInMobile=document.querySelector(".user-mobile__logged-out-mobile"),loggedOutMobile=document.querySelector(".user-mobile__logged-in-mobile"),loginPopup=document.querySelector(".login-popup"),loginPopupBackBtn=document.querySelector(".login-popup__icon"),loginPopupImg=document.querySelector("#login-img"),loginPopupNickname=document.querySelector("#login-nickname"),loginPopupSubmitBtn=document.querySelector(".login-popup__btn"),nickname=document.querySelector(".user__name"),avatar=document.querySelector(".user__avatar"),nicknameMobile=document.querySelector(".user-mobile__name"),avatarMobile=document.querySelector(".user-mobile__avatar"),profileMobile=document.querySelector(".user-mobile__top"),addListeners=function(){loginBtn.addEventListener("click",loginToAccount),logoutBtn.addEventListener("click",logoutFromAccount),loginBtnMobile.addEventListener("click",loginToAccount),logoutBtnMobile.addEventListener("click",logoutFromAccount),loginPopupBackBtn.addEventListener("click",loginToAccount),loginPopupSubmitBtn.addEventListener("click",createAccount),profileMobile.addEventListener("click",changeSiteToProfile),loginPopupImg.addEventListener("click",removeError),loginPopupNickname.addEventListener("click",removeError)};function removeError(){this.classList.remove("error-input")}var checkIfUserCreatedAccount=function(){null===localStorage.getItem("createdAccount")||NaN===localStorage.getItem("createdAccount")?(loggedIn.classList.remove("hidden"),loggedOut.classList.add("hidden"),loggedInMobile.classList.remove("hidden"),loggedOutMobile.classList.add("hidden")):(loggedIn.classList.add("hidden"),loggedOut.classList.remove("hidden"),loggedInMobile.classList.add("hidden"),loggedOutMobile.classList.remove("hidden"),avatar.setAttribute("src",localStorage.getItem("avatar")),nickname.textContent=localStorage.getItem("nickname"),avatarMobile.setAttribute("src",localStorage.getItem("avatar")),nicknameMobile.textContent=localStorage.getItem("nickname")),1==localStorage.getItem("createdAccount")&&(null!==localStorage.getItem("battlesWon")&&NaN!==localStorage.getItem("battlesWon")||localStorage.setItem("battlesWon",0),null!==localStorage.getItem("casesOpened")&&NaN!==localStorage.getItem("casesOpened")||localStorage.setItem("casesOpened",0),null!==localStorage.getItem("upgradesDone")&&NaN!==localStorage.getItem("upgradesDone")||localStorage.setItem("upgradesDone",0),null!==localStorage.getItem("rouletteWon")&&NaN!==localStorage.getItem("rouletteWon")||localStorage.setItem("rouletteWon",0),null!==localStorage.getItem("crashWon")&&NaN!==localStorage.getItem("crashWon")||localStorage.setItem("crashWon",0),null!==localStorage.getItem("jackpotWon")&&NaN!==localStorage.getItem("jackpotWon")||localStorage.setItem("jackpotWon",0),null!==localStorage.getItem("coinflipWon")&&NaN!==localStorage.getItem("coinflipWon")||localStorage.setItem("coinflipWon",0),null!==localStorage.getItem("saperWon")&&NaN!==localStorage.getItem("saperWon")||localStorage.setItem("saperWon",0),null!==localStorage.getItem("muted")&&NaN!==localStorage.getItem("muted")||localStorage.setItem("muted",0))},loginToAccount=function(){"1"===localStorage.getItem("createdAccount")?(loginPopup.classList.add("hidden"),logoutFromAccount()):loginPopup.classList.contains("hidden")?(loginPopup.classList.toggle("hidden"),loginPopup.classList.remove("hide-login")):(loginPopup.classList.add("hide-login"),setTimeout(function(){loginPopup.classList.remove("hide-login"),loginPopup.classList.toggle("hidden")},500))},logoutFromAccount=function(){loggedIn.classList.toggle("hidden"),loggedOut.classList.toggle("hidden"),loggedInMobile.classList.toggle("hidden"),loggedOutMobile.classList.toggle("hidden")},createAccount=function(){""!==loginPopupImg.value&&""!==loginPopupNickname.value?(localStorage.setItem("createdAccount",1),localStorage.setItem("avatar","".concat(loginPopupImg.value)),localStorage.setItem("nickname","".concat(loginPopupNickname.value)),localStorage.setItem("battlesWon",0),localStorage.setItem("casesOpened",0),localStorage.setItem("upgradesDone",0),localStorage.setItem("rouletteWon",0),localStorage.setItem("crashWon",0),localStorage.setItem("jackpotWon",0),localStorage.setItem("coinflipWon",0),localStorage.setItem("saperWon",0),localStorage.setItem("muted",0),loginToAccount(),checkIfUserCreatedAccount()):""===loginPopupImg.value&&""===loginPopupNickname.value?(loginPopupImg.classList.add("error-input"),loginPopupNickname.classList.add("error-input")):""===loginPopupNickname.value?loginPopupNickname.classList.add("error-input"):""===loginPopupImg.value&&loginPopupImg.classList.add("error-input")},changeSiteToProfile=function(){"index"===document.body.id?open("./diff/profile.html","_self"):open("../diff/profile.html","_self")};addListeners(),checkIfUserCreatedAccount();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQuanMiXSwibmFtZXMiOlsibG9naW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsb2dvdXRCdG4iLCJsb2dnZWRJbiIsImxvZ2dlZE91dCIsImxvZ2luQnRuTW9iaWxlIiwibG9nZ2VkT3V0TW9iaWxlIiwibG9naW5Qb3B1cEltZyIsImxvZ2luUG9wdXBOaWNrbmFtZSIsImxvZ2luUG9wdXBTdWJtaXRCdG4iLCJuaWNrbmFtZSIsImF2YXRhciIsIm5pY2tuYW1lTW9iaWxlIiwiYXZhdGFyTW9iaWxlIiwicHJvZmlsZU1vYmlsZSIsImFkZExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2dpblRvQWNjb3VudCIsImxvZ291dEJ0bk1vYmlsZSIsImxvZ291dEZyb21BY2NvdW50IiwibG9naW5Qb3B1cEJhY2tCdG4iLCJjcmVhdGVBY2NvdW50IiwiY2hhbmdlU2l0ZVRvUHJvZmlsZSIsInJlbW92ZUVycm9yIiwicmVtb3ZlIiwidGhpcyIsImNsYXNzTGlzdCIsImxvY2FsU3RvcmFnZSIsImFkZCIsIk5hTiIsInNldEF0dHJpYnV0ZSIsImxvZ2dlZEluTW9iaWxlIiwidGV4dENvbnRlbnQiLCJnZXRJdGVtIiwic2V0SXRlbSIsInRvZ2dsZSIsImNvbmNhdCIsImxvZ2luUG9wdXAiLCJ2YWx1ZSIsImNvbnRhaW5zIiwic2V0VGltZW91dCIsImJvZHkiLCJvcGVuIiwiY2hlY2tJZlVzZXJDcmVhdGVkQWNjb3VudCIsImlkIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxTQUFXQyxTQUFTQyxjQUFjLFlBQVksRUFDOUNDLFVBQVlGLFNBQVNDLGNBQWMsYUFBYSxFQURoREYsU0FBV0MsU0FBU0MsY0FBYyxtQkFBYSxFQUMvQ0MsVUFBWUYsU0FBU0MsY0FBYyxrQkFBYyxFQUNqREUsZUFBbUJILFNBQUNDLGNBQWMsbUJBQW9CLEVBQ3RERyxnQkFBb0JKLFNBQUNDLGNBQWMsb0JBQW1CLEVBQ3RESSxlQUFpQkwsU0FBU0MsY0FDaEMs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QUFFLEVBQzlEWCxhQUFhTyxRQUFRLGFBQWMsQ0FBQyxFQUNwQ1AsYUFBYU8sUUFBUSxjQUFlLENBQUMsRUFDckNQLGFBQWFPLFFBQVEsZUFBZ0IsQ0FBQyxFQUN0Q1AsYUFBYU8sUUFBUSxjQUFlLENBQUMsRUFDckNQLGFBQWFPLFFBQVEsV0FBWSxDQUFDLEVBQ2xDUCxhQUFhTyxRQUFRLGFBQWMsQ0FBQyxFQUNwQ1AsYUFBYU8sUUFBUSxjQUFlLENBQUMsRUFDckNQLGFBQWFPLFFBQVEsV0FBWSxDQUFDLEVBQ2xDUCxhQUFhTyxRQUFRLFFBQVMsQ0FBQyxFQUMvQmpCLGVBQWUsRUFDZjBCLDBCQUEwQixHQUNRLEtBQXhCcEMsY0FBYytCLE9BQTZDLEtBQTdCOUIsbUJBQW1COEIsT0FDM0QvQixjQUFjbUIsVUFBVUUsSUFBSSxhQUFhLEVBQ3pDcEIsbUJBQW1Ca0IsVUFBVUUsSUFBSSxhQUFhLEdBQ1AsS0FBN0JwQixtQkFBbUI4QixNQUM3QjlCLG1CQUFtQmtCLFVBQVVFLElBQUksYUFBYSxFQUNaLEtBQXhCckIsY0FBYytCLE9BQ3hCL0IsY0FBY21CLFVBQVVFLElBQUksYUFBYSxDQUUzQyxFQUVNTixvQkFBc0IsV0FFRixVQUFyQnRCLFNBQVN5QyxLQUFLRyxHQUNqQkYsS0FBSyxzQkFBdUIsT0FBTyxFQUVuQ0EsS0FBSyx1QkFBd0IsT0FBTyxDQUV0QyxFQUVBM0IsYUFBYSxFQUNiNEIsMEJBQTBCIiwiZmlsZSI6ImFjY291bnQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbG9naW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ2luLWJ0blwiKTtcclxuY29uc3QgbG9nb3V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dvdXQtYnRuXCIpO1xyXG5jb25zdCBsb2dnZWRJbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcl9fbG9nZ2VkLW91dFwiKTtcclxuY29uc3QgbG9nZ2VkT3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51c2VyX19sb2dnZWQtaW5cIik7XHJcbmNvbnN0IGxvZ2luQnRuTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dpbi1idG4tbW9iaWxlXCIpO1xyXG5jb25zdCBsb2dvdXRCdG5Nb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ291dC1idG4tbW9iaWxlXCIpO1xyXG5jb25zdCBsb2dnZWRJbk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIudXNlci1tb2JpbGVfX2xvZ2dlZC1vdXQtbW9iaWxlXCJcclxuKTtcclxuY29uc3QgbG9nZ2VkT3V0TW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi51c2VyLW1vYmlsZV9fbG9nZ2VkLWluLW1vYmlsZVwiXHJcbik7XHJcbmNvbnN0IGxvZ2luUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvZ2luLXBvcHVwXCIpO1xyXG5jb25zdCBsb2dpblBvcHVwQmFja0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW4tcG9wdXBfX2ljb25cIik7XHJcbmNvbnN0IGxvZ2luUG9wdXBJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ2luLWltZ1wiKTtcclxuY29uc3QgbG9naW5Qb3B1cE5pY2tuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dpbi1uaWNrbmFtZVwiKTtcclxuY29uc3QgbG9naW5Qb3B1cFN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9naW4tcG9wdXBfX2J0blwiKTtcclxuY29uc3Qgbmlja25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJfX25hbWVcIik7XHJcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcl9fYXZhdGFyXCIpO1xyXG5jb25zdCBuaWNrbmFtZU1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlci1tb2JpbGVfX25hbWVcIik7XHJcbmNvbnN0IGF2YXRhck1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlci1tb2JpbGVfX2F2YXRhclwiKTtcclxuY29uc3QgcHJvZmlsZU1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlci1tb2JpbGVfX3RvcFwiKTtcclxuXHJcbmNvbnN0IGFkZExpc3RlbmVycyA9ICgpID0+IHtcclxuXHRsb2dpbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9naW5Ub0FjY291bnQpO1xyXG5cdGxvZ291dEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9nb3V0RnJvbUFjY291bnQpO1xyXG5cdGxvZ2luQnRuTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dpblRvQWNjb3VudCk7XHJcblx0bG9nb3V0QnRuTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dvdXRGcm9tQWNjb3VudCk7XHJcblx0bG9naW5Qb3B1cEJhY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ2luVG9BY2NvdW50KTtcclxuXHRsb2dpblBvcHVwU3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVBY2NvdW50KTtcclxuXHRwcm9maWxlTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjaGFuZ2VTaXRlVG9Qcm9maWxlKTtcclxuXHRsb2dpblBvcHVwSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVFcnJvcik7XHJcblx0bG9naW5Qb3B1cE5pY2tuYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVFcnJvcik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiByZW1vdmVFcnJvcigpIHtcclxuXHR0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvci1pbnB1dFwiKTtcclxufVxyXG5cclxuY29uc3QgY2hlY2tJZlVzZXJDcmVhdGVkQWNjb3VudCA9ICgpID0+IHtcclxuXHQvLyBjaGVjayBpZiB1c2VyIGNyZWF0ZWQgYWNjb3VudFxyXG5cdC8vIGlmIGRpZG50IHRoZW4gc2hvdyB1cCBcInNpZ24gdXBcIiBib3hcclxuXHQvLyBpZiBkaWQgY3JlYXRlIGFjY291bnQgdGhlbiBhZGQgdmFsdWVzIHRvIHByb2ZpbGVcclxuXHRpZiAoXHJcblx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09PSBudWxsIHx8XHJcblx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNyZWF0ZWRBY2NvdW50XCIpID09PSBOYU5cclxuXHQpIHtcclxuXHRcdGxvZ2dlZEluLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dnZWRPdXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZEluTW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dnZWRPdXRNb2JpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bG9nZ2VkSW4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0bG9nZ2VkSW5Nb2JpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdGxvZ2dlZE91dE1vYmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0YXZhdGFyLnNldEF0dHJpYnV0ZShcInNyY1wiLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF2YXRhclwiKSk7XHJcblx0XHRuaWNrbmFtZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibmlja25hbWVcIik7XHJcblx0XHRhdmF0YXJNb2JpbGUuc2V0QXR0cmlidXRlKFwic3JjXCIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXZhdGFyXCIpKTtcclxuXHRcdG5pY2tuYW1lTW9iaWxlLnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJuaWNrbmFtZVwiKTtcclxuXHR9XHJcblxyXG5cdC8vIGlmIHN0YXRzIGFyZSBub3QgYWRkZWQgYnV0IGFjY291bnQgaXMgY3JlYXRlZCB0aGVuIGNyZWF0ZSB0aGVtIChmaXhlcyBlcnJvciB0aGF0IGlmIHNvbWVvbmUgY3JhdGVkIGFjY291bnQgYmVmb3JlIHN0YXRzIHdlcmUgYWRkZWQgaXQgYWRkIGhpbSBzdGF0cylcclxuXHRpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmVhdGVkQWNjb3VudFwiKSA9PSAxKSB7XHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYmF0dGxlc1dvblwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImJhdHRsZXNXb25cIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImJhdHRsZXNXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FzZXNPcGVuZWRcIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXNlc09wZW5lZFwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FzZXNPcGVuZWRcIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXBncmFkZXNEb25lXCIpID09PSBudWxsIHx8XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXBncmFkZXNEb25lXCIpID09PSBOYU5cclxuXHRcdCkge1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1cGdyYWRlc0RvbmVcIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicm91bGV0dGVXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyb3VsZXR0ZVdvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicm91bGV0dGVXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3Jhc2hXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjcmFzaFdvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3Jhc2hXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiamFja3BvdFdvblwiKSA9PT0gbnVsbCB8fFxyXG5cdFx0XHRsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImphY2twb3RXb25cIikgPT09IE5hTlxyXG5cdFx0KSB7XHJcblx0XHRcdHtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImphY2twb3RXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY29pbmZsaXBXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjb2luZmxpcFdvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY29pbmZsaXBXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2FwZXJXb25cIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzYXBlcldvblwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2FwZXJXb25cIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibXV0ZWRcIikgPT09IG51bGwgfHxcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJtdXRlZFwiKSA9PT0gTmFOXHJcblx0XHQpIHtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibXV0ZWRcIiwgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBsb2dpblRvQWNjb3VudCA9ICgpID0+IHtcclxuXHQvLyBsb2dpbiB0byBhY2NvdW50XHJcblx0aWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3JlYXRlZEFjY291bnRcIikgPT09IFwiMVwiKSB7XHJcblx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHRsb2dvdXRGcm9tQWNjb3VudCgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoIWxvZ2luUG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcblx0XHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LmFkZChcImhpZGUtbG9naW5cIik7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdGxvZ2luUG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtbG9naW5cIik7XHJcblx0XHRcdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHR9LCA1MDApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bG9naW5Qb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xyXG5cdFx0XHRsb2dpblBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlLWxvZ2luXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGxvZ291dEZyb21BY2NvdW50ID0gKCkgPT4ge1xyXG5cdC8vIGxvZyB1c2VyIG91dFxyXG5cdGxvZ2dlZEluLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcblx0bG9nZ2VkT3V0LmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIik7XHJcblx0bG9nZ2VkSW5Nb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxuXHRsb2dnZWRPdXRNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUFjY291bnQgPSAoKSA9PiB7XHJcblx0Ly8gY3JlYXRlcyBhY2NvdW50IGFuZCBzdGF0c1xyXG5cdGlmIChsb2dpblBvcHVwSW1nLnZhbHVlICE9PSBcIlwiICYmIGxvZ2luUG9wdXBOaWNrbmFtZS52YWx1ZSAhPT0gXCJcIikge1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjcmVhdGVkQWNjb3VudFwiLCAxKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYXZhdGFyXCIsIGAke2xvZ2luUG9wdXBJbWcudmFsdWV9YCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm5pY2tuYW1lXCIsIGAke2xvZ2luUG9wdXBOaWNrbmFtZS52YWx1ZX1gKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYmF0dGxlc1dvblwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FzZXNPcGVuZWRcIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVwZ3JhZGVzRG9uZVwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicm91bGV0dGVXb25cIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyYXNoV29uXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJqYWNrcG90V29uXCIsIDApO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjb2luZmxpcFdvblwiLCAwKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2FwZXJXb25cIiwgMCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm11dGVkXCIsIDApO1xyXG5cdFx0bG9naW5Ub0FjY291bnQoKTtcclxuXHRcdGNoZWNrSWZVc2VyQ3JlYXRlZEFjY291bnQoKTtcclxuXHR9IGVsc2UgaWYgKGxvZ2luUG9wdXBJbWcudmFsdWUgPT09IFwiXCIgJiYgbG9naW5Qb3B1cE5pY2tuYW1lLnZhbHVlID09PSBcIlwiKSB7XHJcblx0XHRsb2dpblBvcHVwSW1nLmNsYXNzTGlzdC5hZGQoXCJlcnJvci1pbnB1dFwiKTtcclxuXHRcdGxvZ2luUG9wdXBOaWNrbmFtZS5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItaW5wdXRcIik7XHJcblx0fSBlbHNlIGlmIChsb2dpblBvcHVwTmlja25hbWUudmFsdWUgPT09IFwiXCIpIHtcclxuXHRcdGxvZ2luUG9wdXBOaWNrbmFtZS5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItaW5wdXRcIik7XHJcblx0fSBlbHNlIGlmIChsb2dpblBvcHVwSW1nLnZhbHVlID09PSBcIlwiKSB7XHJcblx0XHRsb2dpblBvcHVwSW1nLmNsYXNzTGlzdC5hZGQoXCJlcnJvci1pbnB1dFwiKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGFuZ2VTaXRlVG9Qcm9maWxlID0gKCkgPT4ge1xyXG5cdC8vIGRlcGVuZGluZyBvbiB3aGVyZSB3ZSBhcmUgY2hhbmdlIGxpbmtcclxuXHRpZiAoZG9jdW1lbnQuYm9keS5pZCA9PT0gXCJpbmRleFwiKSB7XHJcblx0XHRvcGVuKFwiLi9kaWZmL3Byb2ZpbGUuaHRtbFwiLCBcIl9zZWxmXCIpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRvcGVuKFwiLi4vZGlmZi9wcm9maWxlLmh0bWxcIiwgXCJfc2VsZlwiKTtcclxuXHR9XHJcbn07XHJcblxyXG5hZGRMaXN0ZW5lcnMoKTtcclxuY2hlY2tJZlVzZXJDcmVhdGVkQWNjb3VudCgpO1xyXG4iXX0=
